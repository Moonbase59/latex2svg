# latex2svg

Python wrapper and CLI utility to render LaTeX markup and equations as SVG using
[dvisvgm](https://dvisvgm.de/) and [svgo](https://github.com/svg/svgo).


## Usage

### Python 3 module

```python
from latex2svg import latex2svg
out = latex2svg(r'$\sin(x) = \sum_{n=0}^{\infty} \dots$')
print(out['valign'])  # baseline position in em
print(out['svg'])  # rendered SVG
```

### CLI utility

```
$ ./latex2svg.py --help
usage: latex2svg.py [-h] [--version] [--preamble PREAMBLE]

Render LaTeX code from stdin as SVG to stdout. Writes metadata (baseline
position, width, height in em units) into the SVG attributes.

optional arguments:
  -h, --help           show this help message and exit
  --version            show program's version number and exit
  --preamble PREAMBLE  LaTeX preamble code to read from file

$ echo '$\sin(x) = \sum_{n=0}^{\infty} \dots$' | ./latex2svg.py > sample.svg
```

<!-- Show how the SVG can be styled -->
<style>
svg {
  fill: blue;
}
</style>

Result: <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="6.948840em" height="1.061594em" viewBox="0 -8.914978 82.764187 12.644123" style="vertical-align:-0.313097em"><defs><path id="zEsL_g18-61" d="M3.781983-1.083062L4.113889-2.471827C4.183764-2.77753 4.227436-2.978421 4.227436-3.13564C4.227436-3.659702 3.991608-3.834389 3.650968-3.834389C3.19678-3.834389 2.821202-3.650968 2.01764-2.707655L2.008906-2.71639L2.026374-2.794999C2.113718-3.13564 2.218531-3.47628 2.218531-3.624765C2.218531-3.747046 2.15739-3.808186 2.043843-3.808186C1.764343-3.808186 1.353828-3.747046 .943312-3.69464C.882172-3.624765 .89964-3.528686 .952047-3.450077L1.301421-3.423874C1.406234-3.41514 1.45864-3.33653 1.45864-3.249187C1.45864-3.170577 1.432437-3.048296 1.380031-2.803734L.890906-.628875C.847234-.454187 .777359-.235828 .777359-.148484C.777359 0 .873437 .087344 1.152937 .087344C1.484843 .087344 1.476109-.296969 1.554718-.628875L1.886624-2.078781C2.43689-2.794999 2.91728-3.310327 3.231718-3.310327C3.41514-3.310327 3.537421-3.266655 3.537421-2.99589C3.537421-2.873609 3.493749-2.698921 3.423874-2.401952L3.091968-1.004453C3.022093-.724953 2.943484-.366844 2.943484-.200891S3.039562 .087344 3.301593 .087344C3.720843 .087344 4.140093-.209625 4.541874-.724953C4.515671-.803562 4.463264-.873437 4.340983-.873437C4.113889-.611406 3.860593-.436719 3.773249-.436719C3.712108-.436719 3.685905-.48039 3.685905-.585203C3.685905-.663812 3.729577-.855968 3.781983-1.083062Z"/><path id="zEsL_g18-71" d="M1.87789-2.698921L2.183593-1.834218L1.371296-.637609C1.283953-.506594 1.187875-.471656 1.126734-.471656C1.056859-.471656 .960781-.489125 .890906-.524062C.812297-.559 .724953-.576469 .637609-.576469C.445453-.576469 .305703-.436719 .305703-.244562C.305703-.017469 .611406 .087344 .812297 .087344C1.109265 .087344 1.31889-.043672 1.703203-.593937L2.305874-1.467375L2.646515-.401781C2.760062-.052406 2.847405 .087344 3.144374 .087344C3.450077 .087344 3.834389-.078609 4.105155-.532797C4.070218-.611406 3.991608-.681281 3.89553-.69875C3.668436-.410516 3.55489-.340641 3.458811-.340641C3.380202-.340641 3.319062-.454187 3.249187-.663812L2.77753-2.070046L3.441343-3.048296C3.581093-3.249187 3.790718-3.284124 3.851858-3.284124C3.921733-3.284124 4.03528-3.257921 4.113889-3.19678C4.17503-3.144374 4.31478-3.109437 4.402124-3.109437C4.524405-3.109437 4.681624-3.284124 4.681624-3.485015C4.681624-3.703374 4.445796-3.834389 4.244905-3.834389C3.808186-3.834389 3.519952-3.685905 3.091968-3.065765L2.655249-2.43689L2.410687-3.205515C2.262202-3.659702 2.166124-3.834389 1.947765-3.834389C1.746874-3.834389 1.100531-3.47628 .794828-3.249187C.803562-3.153108 .8385-3.039562 .908375-2.978421C1.013187-3.022093 1.301421-3.161843 1.484843-3.161843C1.589656-3.161843 1.677-3.144374 1.729406-3.065765C1.764343-2.99589 1.825484-2.847405 1.87789-2.698921Z"/><path id="zEsL_g18-148" d="M.497859-.375578C.497859-.122281 .707484 .087344 .960781 .087344S1.423703-.122281 1.423703-.375578S1.214078-.8385 .960781-.8385S.497859-.628875 .497859-.375578Z"/><path id="zEsL_g12-49" d="M6.996232-2.358281C6.996232-3.153108 6.568248-3.825655 5.703545-3.825655C4.978592-3.825655 4.279842-3.13564 3.843124-2.611577C3.47628-3.214249 2.768796-3.843124 2.035109-3.843124C1.074328-3.843124 .454187-2.91728 .454187-2.026374C.454187-1.231547 .908375-.550265 1.764343-.550265C2.454359-.550265 3.231718-1.25775 3.61603-1.790546C4.026546-1.187875 4.655421-.541531 5.43278-.541531C6.393561-.541531 6.996232-1.484843 6.996232-2.358281ZM6.498373-1.956499C6.498373-1.380031 6.210139-.89964 5.581264-.89964C4.926186-.89964 4.332249-1.87789 3.991608-2.358281C4.253639-2.751327 4.952389-3.397671 5.441514-3.397671C6.140264-3.397671 6.498373-2.550437 6.498373-1.956499ZM3.467546-2.035109C3.214249-1.642062 2.498031-1.013187 2.01764-1.013187C1.31889-1.013187 .969515-1.860421 .969515-2.454359C.969515-3.039562 1.266484-3.519952 1.904093-3.519952C2.489296-3.519952 3.214249-2.524234 3.467546-2.035109Z"/><path id="zEsL_g12-185" d="M2.57664-6.262545C1.310156-5.441514 .41925-4.026546 .41925-2.244734C.41925-.62014 1.345093 1.021922 2.550437 1.764343L2.655249 1.624593C1.502312 .716219 1.170406-.340641 1.170406-2.270937C1.170406-4.209968 1.528515-5.21442 2.655249-6.122795L2.57664-6.262545Z"/><path id="zEsL_g12-186" d="M.331906-6.262545L.253297-6.122795C1.380031-5.21442 1.73814-4.209968 1.73814-2.270937C1.73814-.340641 1.406234 .716219 .253297 1.624593L.358109 1.764343C1.563453 1.021922 2.489296-.62014 2.489296-2.244734C2.489296-4.026546 1.59839-5.441514 .331906-6.262545Z"/><path id="zEsL_g9-205" d="M8.647026 7.301139H8.396905C8.158695 8.789952 7.610812 9.45694 6.777077 9.45694H2.108159L5.562205 5.026233L2.489295 .46451H6.300656C7.170123 .46451 7.718006 .94093 7.968127 2.453564H8.230158L8.158695 0H1.012393L4.657007 5.228711L.512152 10.481243H8.51601L8.647026 7.301139Z"/><use id="zEsL_g7-61" xlink:href="#zEsL_g3-61" transform="scale(1.363636)"/><path id="zEsL_g27-48" d="M4.157561-2.882343C4.157561-4.672889 3.362733-5.904436 2.218531-5.904436C1.73814-5.904436 1.371296-5.755951 1.048125-5.450248C.541531-4.961124 .209625-3.956671 .209625-2.934749C.209625-1.982703 .497859-.960781 .908375-.471656C1.231547-.087344 1.677 .122281 2.183593 .122281C2.629046 .122281 3.004624-.026203 3.319062-.331906C3.825655-.812297 4.157561-1.825484 4.157561-2.882343ZM3.319062-2.864874C3.319062-1.03939 2.934749-.104812 2.183593-.104812S1.048125-1.03939 1.048125-2.85614C1.048125-4.707827 1.441171-5.677342 2.192327-5.677342C2.926015-5.677342 3.319062-4.690358 3.319062-2.864874Z"/><path id="zEsL_g27-105" d="M2.209796 0V-.131016C1.633328-.174687 1.563453-.262031 1.563453-.890906V-3.991608L1.528515-4.017811L.174687-3.537421V-3.406405L.244562-3.41514C.349375-3.432608 .462922-3.441343 .541531-3.441343C.751156-3.441343 .829765-3.301593 .829765-2.91728V-.890906C.829765-.262031 .742422-.165953 .13975-.131016V0H2.209796ZM1.642062-5.15328C1.642062-5.397842 1.449906-5.598733 1.196609-5.598733C.952047-5.598733 .751156-5.397842 .751156-5.15328C.751156-4.899983 .952047-4.707827 1.196609-4.707827C1.449906-4.707827 1.642062-4.899983 1.642062-5.15328Z"/><path id="zEsL_g27-110" d="M4.236171 0V-.131016C3.808186-.174687 3.703374-.2795 3.703374-.707484V-2.707655C3.703374-3.528686 3.319062-4.017811 2.672718-4.017811C2.270937-4.017811 2.000171-3.869327 1.406234-3.310327V-4.000343L1.345093-4.017811C.917109-3.860593 .62014-3.764515 .13975-3.624765V-3.47628C.192156-3.502483 .2795-3.511218 .375578-3.511218C.62014-3.511218 .69875-3.380202 .69875-2.952218V-.786094C.69875-.288234 .602672-.165953 .157219-.131016V0H2.008906V-.131016C1.563453-.165953 1.432437-.270766 1.432437-.585203V-3.039562C1.851687-3.432608 2.043843-3.537421 2.332077-3.537421C2.760062-3.537421 2.969687-3.266655 2.969687-2.690187V-.864703C2.969687-.314437 2.85614-.165953 2.419421-.131016V0H4.236171Z"/><path id="zEsL_g27-115" d="M3.039562-1.030656C3.039562-1.467375 2.838671-1.755609 2.305874-2.070046L1.362562-2.629046C1.118-2.768796 .986984-2.987155 .986984-3.222983C.986984-3.581093 1.25775-3.816921 1.659531-3.816921C2.15739-3.816921 2.419421-3.528686 2.620312-2.742593H2.751327L2.71639-3.930468H2.620312L2.602843-3.912999C2.524234-3.851858 2.515499-3.843124 2.480562-3.843124C2.428156-3.843124 2.340812-3.860593 2.244734-3.904264C2.061312-3.974139 1.860421-4.009077 1.650796-4.009077C.934578-4.009077 .445453-3.572358 .445453-2.934749C.445453-2.445624 .724953-2.104984 1.467375-1.677L1.973968-1.388765C2.279671-1.214078 2.428156-1.004453 2.428156-.733687C2.428156-.349375 2.148656-.104812 1.703203-.104812C1.100531-.104812 .794828-.436719 .593937-1.327625H.454187V.034937H.567734C.628875-.052406 .663812-.069875 .768625-.069875C.864703-.069875 .960781-.052406 1.170406 0C1.414968 .052406 1.633328 .087344 1.816749 .087344C2.480562 .087344 3.039562-.41925 3.039562-1.030656Z"/><use id="zEsL_g22-71" xlink:href="#zEsL_g18-71" transform="scale(1.363636)"/><use id="zEsL_g22-148" xlink:href="#zEsL_g18-148" transform="scale(1.363636)"/><path id="zEsL_g3-61" d="M4.821374-2.882343V-3.371468H.349375V-2.882343H4.821374ZM4.821374-1.109265V-1.59839H.349375V-1.109265H4.821374Z"/><use id="zEsL_g15-185" xlink:href="#zEsL_g12-185" transform="scale(1.363636)"/><use id="zEsL_g15-186" xlink:href="#zEsL_g12-186" transform="scale(1.363636)"/><use id="zEsL_g30-105" xlink:href="#zEsL_g27-105" transform="scale(1.363636)"/><use id="zEsL_g30-110" xlink:href="#zEsL_g27-110" transform="scale(1.363636)"/><use id="zEsL_g30-115" xlink:href="#zEsL_g27-115" transform="scale(1.363636)"/></defs><g id="zEsL_page1"><use x="0" y="0" xlink:href="#zEsL_g30-115"/><use x="4.65056" y="0" xlink:href="#zEsL_g30-105"/><use x="7.974095" y="0" xlink:href="#zEsL_g30-110"/><use x="14.54944" y="0" xlink:href="#zEsL_g15-185"/><use x="18.650063" y="0" xlink:href="#zEsL_g22-71"/><use x="25.398731" y="0" xlink:href="#zEsL_g15-186"/><use x="33.298387" y="0" xlink:href="#zEsL_g7-61"/><use x="43.696676" y="-8.368612" xlink:href="#zEsL_g9-205"/><use x="53.356436" y="-4.984512" xlink:href="#zEsL_g12-49"/><use x="53.005751" y="3.611229" xlink:href="#zEsL_g18-61"/><use x="57.853967" y="3.611229" xlink:href="#zEsL_g3-61"/><use x="63.044106" y="3.611229" xlink:href="#zEsL_g27-48"/><use x="70.109556" y="0" xlink:href="#zEsL_g22-148"/><use x="75.126714" y="0" xlink:href="#zEsL_g22-148"/><use x="80.143873" y="0" xlink:href="#zEsL_g22-148"/></g></svg>, perfectly aligned (and styled here using a blue fill).

## License

This project is licensed under the MIT license. See [LICENSE](LICENSE) for
details.

Copyright © 2022 Matthias C. Hormann
